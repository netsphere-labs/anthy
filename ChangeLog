2010-05-18  NIIBE Yutaka  <gniibe@fsij.org>

	* mkworddic/mkdic.c (mk_yomi_hash): Free hash_array.
	Closes: sf.jp ticket #20964.  Thanks to syama.

	* src-util/anthy.el (anthy-accept-timeout): Support Emacs 23 or
	later too.  Closes: sf.jp ticket #11263.  Thanks to Kasuga.

	* src-util/Makefile.am (ELCFILES): Removed.
	* src-util/anthy.el (anthy-erase-preedit): Use mapc instead of mapcar.
	(anthy-buffer-undo-list): New deflocalvar.
	(anthy-deflocalvar): New implementation killing old-style quasi-quote.
	* src-util/anthy-kyuri.el (anthy-kyuri): Use mapc instead of mapcar.
	(anthy-kyuri-mode-hiragana-map): Define	as defvar.
	* src-util/anthy-conf.el (anthy-load-hiragana-map)
	(anthy-kana-map-mode): Use mapc instead of mapcar.
	* src-util/anthy-azik.el: Require anthy.
	(anthy-azik-mode): Use mapc instead of mapcar.

	* ChangeLog, mkworddic/Makefile.am, src-diclib/alloc.c,
	src-diclib/logger.c, src-main/Makefile.am, src-main/context.c,
	src-ordering/candsort.c, src-splitter/Makefile.am,
	src-splitter/compose.c, src-splitter/splitter.c,
	src-splitter/wordlist.c, src-util/Makefile.am, src-util/input.c,
	src-util/rkconv.c, src-util/rkmap.h, src-worddic/Makefile.am:
	Removed Id keyword of RCS/CVS.

	* mkworddic/base.t, mkworddic/name.t, mkworddic/tankanji.t: Removed.
	* mkworddic/Makefile.am (EXTRA_DICS): Follow the removal.

	* COPYING: New file, GNU GPL 3, as LGPL3 refers it.

	* INSTALL, THANKS, NEWS: New.

	* README.2007.ja: Follow the change of paths.  Fixed some
	information.

	* COPYING.LIB: New file, GNU LGPL 3.
	* COPYING.LIB2_1: New file, GNU LGPL 2.1.

	* COPYING: Removed.
	* README: New file, Incorporating text header of COPYING.

	* THANKS.2007.ja: Moved from THANKS.
	* NEWS.2007.ja: Moved from NEWS.
	* INSTALL.2006.ja: Moved from INSTALL.
	* README.2007.ja: Moved from README.

	* ChangeLog.2001-2009: Moved from ChangeLog.2009

2010-05-17  NIIBE Yutaka  <gniibe@fsij.org>

	* mkworddic/Makefile.am (DIC_FILES): Added utf8.t.

    	* src-worddic/ext_ent.c (MAX_LINE_LEN): New.
    	(parse_zipcode_line, search_zipcode_dict): Use it.
    	See [Anthy-dev 3706].  Thanks to G-HAL.

    	* mkworddic/extra.t: Fix entry for "Abunai Hashi".
    	* mkworddic/extra.t, mkworddic/compound.t: Fix double spaces.
	See [Anthy-dev 3701].  Thanks to G-HAL.

    	* mkworddic/compound.t: Modified words for "TYUI KYU".
    	See [Anthy-dev 3697], parts of proposal integrated.
    	Thanks to G-HAL.

    	* src-splitter/lattice.c (cmp_node_by_type): Removed.
    	(cmp_node_by_type_to_type): Removed.
    	(cmp_node): Handle the case of lhs->mw->type == MW_COMPOUND_PART,
    	but rhs->mw->type != MW_COMPOUND_HEAD nor MW_COMPOUND_PART.
    	See [Anthy-dev 3703].  Thanks to G-HAL.

    	* src-worddic/dic_util.c (do_search,anthy_dic_search_words_file):
    	  Removed.
    	* anthy/dicutil.h, doc/DICLIB: Follow the change.
    	* anthy-test-conf.in, anthy-conf.in: Removed WORDS_FILE.

	* Makefile.am, configure.ac, autogen.sh: Use m4 subdirectory.

	* autogen.sh: New file.

	* doc/DIARY: Moved this historical file from top directory.

	* AUTHORS: New.
	* THANKS: Moved old AUTHORS to this file.

	* Remove all generated files from repository.
	Makefile.in, aclocal.m4, config.h.in, config.guess, config.sub,
	configure, compile, depcomp, install-sh, ltmain.sh, missing,
	elisp-comp, mkinstalldirs, alt-cannadic/Makefile.in,
	anthy/Makefile.in, calctrans/Makefile.in, depgraph/Makefile.in,
	doc/Makefile.in, mkanthydic/Makefile.in, mkworddic/Makefile.in,
	src-diclib/Makefile.in, src-main/Makefile.in, src-ordering/Makefile.in,
	src-splitter/Makefile.in, src-util/Makefile.in,
	src-worddic/Makefile.in, test/Makefile.in: Removed from repository.

	* alt-cannadic/Makefile.orig: Removed.

	* ChangeLog: New.
	* ChangeLog.2009: Moved old ChangeLog to this file.

	* New development starts.
	  See ChangeLog.2009 for old development.
